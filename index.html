<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../src/css/styles.css">
    <link rel="stylesheet" href="../src/css/bootstrap.min.css">
    <link rel="stylesheet" href="../src/css/darkmode.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <title>My resume web</title>
</head>
<body class="light-mode">
    <div class="buttontop d-flex">
        <div id="change-lang-btn" class="button-language"><img src="./src/img/en-flag.png" style="width: 100%;" alt="Cambio de idioma"></div>
        <!--<div class="button-darkmode"><i class="fa-solid fa-moon"></i></div> -->
    </div>

    <section class="container-fluid vh-100" id="principal">
        <div class="d-flex flex-column justify-content-center text-center align-self-center black h-100">
            <div class="font-200 fs-10" data-key="greeting"></div>
            <div class="font-900 fs-1" data-key="name"></div>
            <div class="font-500 fs-10" data-key="description"></div>
            <div class="buttonSection mt-2">
                <button type="button" class="btn btn-outline-primary rounded-circle-prim" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-title="Mi correo" data-bs-offset="0, 10"><i class="fa-solid fa-envelope"></i></button>
                <button type="button" class="btn btn-outline-primary rounded-circle-prim" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-title="Mi Linkedin" data-bs-offset="0, 10"><i class="fa-brands fa-linkedin-in"></i></button>
                <button type="button" class="btn btn-outline-primary rounded-circle-prim" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-title="Mi CV" data-bs-offset="0, 11"><i class="fa-solid fa-file-lines"></i></button>
            </div>
        </div>
        <div id="particles-js"></div>
    </section>
    <section class="container-fluid background-secondary p-3">
        <div class="d-flex flex-column text-center white h-100">
            <div class="font-900 fs-1" data-key="about-title"></div>
            <div class="d-flex flex-wrap m-4 justify-content-sm-center justify-content-md-center">
                <img src="../src/img/micara3.png" width="300wv" alt="" srcset="">
                <div class="d-flex flex-column justify-content-center col-lg-9 col-sm-12 col-md-9 col-xl-9 p-3">
                    <div class="font-500 fs-12 justify-text p-3" data-key="about-content"></div>
                </div>
            </div>
        </div>
    </section>
    <section class="container-fluid p-3 background-primary">
        <div class="d-flex flex-column justify-content-center text-center align-self-center black h-100">
            <div class="font-900 fs-1 mb-3" data-key="skills-title"></div>
            <div class="row text-center">
                <div class="col-lg-4 col-sm-12 col-md-4 col-xl-4 p-3">
                    <div class="font-700 fs-5 mb-2" data-key="data-analysis-title"></div>
                    <div class="d-flex flex-wrap fs-7 justify-content-center font-300">
                        <div class="tags" data-key="data-analysis-skills-1"></div>
                        <div class="tags" data-key="data-analysis-skills-2"></div>
                        <div class="tags" data-key="data-analysis-skills-3"></div>
                        <div class="tags" data-key="data-analysis-skills-4"></div>
                        <div class="tags" data-key="data-analysis-skills-5"></div>
                        <div class="tags" data-key="data-analysis-skills-6"></div>
                        <div class="tags" data-key="data-analysis-skills-7"></div>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-12 col-md-4 col-xl-4 p-3">
                    <div class="font-700 fs-5 mb-2" data-key="leadership-title"></div>
                    <div class="d-flex flex-wrap fs-7 justify-content-center font-300">
                        <div class="tags" data-key="leadership-skills-1"></div>
                        <div class="tags" data-key="leadership-skills-2"></div>
                        <div class="tags" data-key="leadership-skills-3"></div>
                        <div class="tags" data-key="leadership-skills-4"></div>
                    </div>
                </div>
                <div class="col-lg-4 col-sm-12 col-md-4 col-xl-4 p-3">
                    <div class="font-700 fs-5 mb-2" data-key="innovation-title"></div>
                    <div class="d-flex flex-wrap fs-7 justify-content-center font-300">
                        <div class="tags" data-key="innovation-skills-1"></div>
                        <div class="tags" data-key="innovation-skills-2"></div>
                        <div class="tags" data-key="innovation-skills-3"></div>
                        <div class="tags" data-key="innovation-skills-4"></div>
                        <div class="tags" data-key="innovation-skills-5"></div>
                        <div class="tags" data-key="innovation-skills-6"></div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="container-fluid background-secondary p-3">
        <div class="d-flex flex-column white h-100">
            <div class="font-900 fs-1 mb-3 text-center" data-key="experience-title"></div>
            <div class="d-flex flex-wrap gap-1">
                <div class="info-card col-sm-12 col-lg-5 col-md-5 mt-0 mb-4">
                    <div class="row mb-0 d-flex flex-wrap flex-row">
                        <div class="d-flex col-lg-2 col-sm-12 mt-2 justify-content-center">
                            <img class="img-logo" src="./src/img/banco_security_logo.jpeg" alt="Icon" style="width:48px; height:48px; border-radius: 50%;">
                        </div>
                        <div class="col-lg-10 col-sm-12 m-0">
                            <div class="mb-0 font-700 text-center text-xl-start text-lg-start">Banco Security</div>
                            <div class="mb-0 font-300 text-center text-xl-start text-lg-start"><span id="experience-1-general-duration" data-key="experience-1-general-duration"></span><span id="diferenciaMesesGeneral"></span></div>
                            <div class="mb-0 font-300 text-center text-xl-start text-lg-start" data-key="experience-1-location-1"></div>
                        </div>
                    </div>
                    <div class="ms-4">
                        <ul class="list-group lista-con-linea lista-con-linea-actual fs-6">
                            <li class="list-group-item">
                                <p class="mb-0 font-600 white" data-key="experience-1-role-1"></p>
                                <p class="mb-0 font-300 white"><span id="experience-1-duration-1" data-key="experience-1-duration-1"></span><span id="diferenciaMeses"></span></p>
                                <p class="mb-0 font-300 white" data-key="experience-1-mode-1"></p>
                            </li>
                            <li class="list-group-item">
                                <p class="mb-0 font-600 white" data-key="experience-1-role-2"></p>
                                <p class="mb-0 font-300 white" data-key="experience-1-duration-2"></p>
                                <p class="mb-0 font-300 white" data-key="experience-1-mode-2"></p>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="info-card col-sm-12 col-lg-5 col-md-5 mt-0 mb-4" style="background-color: #005653;">
                    <div class="row mb-0 d-flex flex-wrap flex-row">
                        <div class="d-flex col-lg-2 col-sm-12 mt-2 justify-content-center">
                            <img src="./src/img/acltecnologia_logo.jpeg" alt="Icon" style="width:48px; height:48px; border-radius: 50%;">
                        </div>
                        <div class="col-lg-10 col-sm-12 m-0">
                            <div class="mb-0 font-700 text-center text-xl-start text-lg-start">ACL Tecnología</div>
                            <div class="mb-0 font-300 text-center text-xl-start text-lg-start" data-key="experience-2-general-duration"></div>
                            <div class="mb-0 font-300 text-center text-xl-start text-lg-start" data-key="experience-2-location-1"></div>
                        </div>
                    </div>
                    <div class="ms-4">
                        <ul class="list-group lista-con-linea">
                            <li class="list-group-item">
                                <p class="mb-0 font-600 white" data-key="experience-2-role-1"></p>
                                <p class="mb-0 font-300 white" data-key="experience-2-duration-1"></p>
                                <p class="mb-0 font-300 white" data-key="experience-2-mode-1"></p>
                            </li>
                            <li class="list-group-item">
                                <p class="mb-0 font-600 white" data-key="experience-2-role-2"></p>
                                <p class="mb-0 font-300 white" data-key="experience-2-duration-2"></p>
                                <p class="mb-0 font-300 white" data-key="experience-2-mode-2"></p>
                            </li>
                            <li class="list-group-item">
                                <p class="mb-0 font-600 white" data-key="experience-2-role-3"></p>
                                <p class="mb-0 font-300 white" data-key="experience-2-duration-3"></p>
                                <p class="mb-0 font-300 white" data-key="experience-2-mode-3"></p>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="info-card col-sm-12 col-lg-5 col-md-5 mt-0 mb-4" style="background-color: #005653;">
                    <div class="row mb-0 d-flex flex-wrap flex-row">
                        <div class="d-flex col-lg-2 col-sm-12 mt-2 justify-content-center">
                            <img class="img-logo" src="./src/img/banco_security_logo.jpeg" alt="Icon" style="width:48px; height:48px; border-radius: 50%;">
                        </div>
                        <div class="col-lg-10 col-sm-12 m-0">
                            <div class="mb-0 font-700 text-center text-xl-start text-lg-start">Banco Security</div>
                            <div class="mb-0 font-300 text-center text-xl-start text-lg-start" data-key="experience-3-general-duration"></div>
                            <div class="mb-0 font-300 text-center text-xl-start text-lg-start" data-key="experience-3-location-1"></div>
                        </div>
                    </div>
                    <div class="ms-4">
                        <ul class="list-group lista-con-linea">
                            <li class="list-group-item fs-6">
                                <p class="mb-0 font-600 white" data-key="experience-3-role-1"></p>
                                <p class="mb-0 font-300 white" data-key="experience-3-duration-1"></p>
                                <p class="mb-0 font-300 white" data-key="experience-3-mode-1"></p>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="container-fluid p-3 background-primary">
        <div class="d-flex flex-column justify-content-center text-center align-self-center black h-100">
            <div class="font-900 fs-1 mb-3" data-key="education-title"></div>
            <div class="d-flex flex-wrap row gap-1">
                <div class="info-card col-sm-12 col-lg-4 col-md-4 mt-0 p-4 white">
                    <div class="row mb-0 d-flex flex-wrap flex-row mb-4">
                        <div class="d-flex col-lg-2 col-sm-12 mt-2 justify-content-center">
                            <img class="img-logo" src="./src/img/universidad_autnoma_de_chile_logo.jpeg" alt="Icon" style="width:48px; height:48px; border-radius: 50%;">
                        </div>
                        <div class="col-lg-10 col-sm-12 m-0">
                            <div class="mb-0 font-700 text-center text-xl-start text-lg-start" data-key="education-1-degree"></div>
                            <div class="mb-0 font-600 text-center text-xl-start text-lg-start" data-key="education-1-institution"></div>
                            <div class="mb-0 font-300 text-center text-xl-start text-lg-start" data-key="education-1-duration"></div>
                            <div class="mb-0 font-300 text-center text-xl-start text-lg-start" data-key="education-1-mode"></div>
                        </div>
                    </div>
                    <div class="row mb-0 d-flex flex-wrap flex-row">
                        <div class="d-flex col-lg-2 col-sm-12 mt-2 justify-content-center">
                            <img class="img-logo" src="./src/img/inacap_logo.jpeg" alt="Icon" style="width:48px; height:48px; border-radius: 50%;">
                        </div>
                        <div class="col-lg-10 col-sm-12 m-0">
                            <div class="mb-0 font-700 text-center text-xl-start text-lg-start" data-key="education-2-degree"></div>
                            <div class="mb-0 font-600 text-center text-xl-start text-lg-start" data-key="education-2-institution"></div>
                            <div class="mb-0 font-300 text-center text-xl-start text-lg-start" data-key="education-2-duration"></div>
                            <div class="mb-0 font-300 text-center text-xl-start text-lg-start" data-key="education-2-mode"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="../src/js/scripts_particles.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="../src/js/scripts.js"></script>
    <script>
        const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
        const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));

        function fechaDiferencia(fechaInicio, lang = 'es') {
            const inicio = new Date(fechaInicio);
            const hoy = new Date();
            let años = hoy.getFullYear() - inicio.getFullYear();
            let meses = hoy.getMonth() - inicio.getMonth();
            if (hoy.getDate() < inicio.getDate()) {
                meses--;  // Ajusta si aún no se ha alcanzado el día del mes de la fecha de inicio
            }
            if (meses < 0) {
                años--;
                meses += 12; // Agrega 12 meses al total de meses si el mes actual es menor que el mes de inicio
            }

            let resultado = "";
            if (lang === 'es') {
                if (años > 0) resultado += `${años} año${años > 1 ? 's' : ''} `;
                if (meses > 0) resultado += `${meses} mes${meses > 1 ? 'es' : ''}`;
            } else {
                if (años > 0) resultado += `${años} year${años > 1 ? 's' : ''} `;
                if (meses > 0) resultado += `${meses} month${meses > 1 ? 's' : ''}`;
            }
            return resultado.trim();
        }

        // Funcionalidad para cambiar el idioma
        document.addEventListener('DOMContentLoaded', () => {
            const changeLangBtn = document.getElementById('change-lang-btn');
            const elementsToTranslate = document.querySelectorAll('[data-key]');
            let currentLang = 'es';

            // Fetch translations
            fetch('./src/content/translations.json')
                .then(response => response.json())
                .then(translations => {
                    changeLangBtn.addEventListener('click', () => {
                        currentLang = currentLang === 'es' ? 'en' : 'es';
                        changeLanguage(translations, currentLang);
                        updateFechas(currentLang);
                    });
                    // Inicializar la traducción al cargar la página
                    changeLanguage(translations, currentLang);
                    updateFechas(currentLang);
                });

            const changeLanguage = (translations, lang) => {
                elementsToTranslate.forEach(element => {
                    const key = element.getAttribute('data-key');
                    if (translations[lang][key]) {
                        element.innerHTML = translations[lang][key];
                    }
                });
                changeLangBtn.querySelector('img').src = lang === 'es' ? './src/img/en-flag.png' : './src/img/cl-flag.png';
            };

            const updateFechas = (lang) => {
                document.getElementById('diferenciaMeses').textContent = fechaDiferencia('2023-04-01', lang);
                document.getElementById('diferenciaMesesGeneral').textContent = fechaDiferencia('2021-08-17', lang);
            }
        });
    </script>
</body>
</html>
